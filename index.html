
<!DOCTYPE html>
<html>

<head>
	<meta charset='UTF-8'>

	<title>ABABBA</title>
	<style>
		body {
			font-family: monospace, courier;
		}
		.main {
			width:100%;
			text-align:center;
			vertical-align: middle;
		}
		input {
			font-size:18vh;
			height:22vh;
			width:22vh;
		}
		.top {
			font-size:5vw;
			height:30vh;
		}
		.mid {
			font-size:8vw;
			height:35vh;
		}
		.bot {
			font-size:8vw;
			height:30vh;
		}
	</style>

	
<body>
<div id="instructions" class="main top"></div>
<div id="text"class="main mid"></div>
<div class="main bot">
	<input type="button" value="A"/>
	<input type="button" value="B"/>
</div>


<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script>
	$(function() {
		causeRepaintsOn = $("div");
		$(window).resize(function() {
			causeRepaintsOn.css("z-index", 1);
		});
		GAME.init();
	});
	GAME = {
		levels: [
			{
				instructions: "Level 1",
				text: "A",
				sequence: ["A"]
			},
			{
				instructions: "Level 2",
				text: "AB",
				sequence: ["A", "B"]
			},
			{
				instructions: "Level 3",
				text: "ABABBA",
				sequence: ["A", "B", "A", "B", "B", "A"]
			},
			{
				instructions: "Level 4: A=B; B=A",
				text: "BABA",
				sequence: ["A", "B", "A", "B"]
			}
		],
		init: function() {
			this.startLevel(0);
		},
		startLevel: function(level) {
			GAME.tmp_seq = GAME.levels[level].sequence.slice();
			$("#instructions").html(GAME.levels[level].instructions);
			$("#text").html(GAME.levels[level].text);
			$("input").on("click", function() {
				if ($(this).val() == GAME.tmp_seq[0]) {
					GAME.tmp_seq.shift();
					if (GAME.tmp_seq.length == 0) {
						$("input").off();
						GAME.startLevel(++level);
					}
				} else {
					GAME.startLevel(--level);
				}
			});
		}
	}
</script>
</body>
